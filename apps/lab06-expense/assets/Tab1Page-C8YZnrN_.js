import{d as x,c as d,r as g,o as k,a as m,w as n,u as t,I as C,b as l,e as y,f as T,g as _,h as B,i as N,j as h,k as E,l as o,t as u,m as L,n as V,p as w,F,q as P,s as S,v as c,x as $,y as j}from"./index-BwWZW9R9.js";import{o as q,c as A,d as D}from"./firebase-Bvsric5L.js";const G=x({__name:"Tab1Page",setup(H){const p=d(()=>r.value.filter(e=>e.type==="income").reduce((e,a)=>e+Number(a.amount),0)),i=d(()=>r.value.filter(e=>e.type==="expense").reduce((e,a)=>e+Number(a.amount),0)),I=d(()=>p.value-i.value),f=S(),r=g([]),v=()=>{f.push("/add")},b=e=>{f.push("/edit/".concat(e))};return k(()=>{q(A(D,"expenses"),e=>{r.value=e.docs.map(a=>({id:a.id,...a.data()}))})}),(e,a)=>(c(),m(t(C),null,{default:n(()=>[l(t(B),null,{default:n(()=>[l(t(y),null,{default:n(()=>[l(t(T),null,{default:n(()=>[...a[0]||(a[0]=[_("รายการรายรับรายจ่าย",-1)])]),_:1})]),_:1})]),_:1}),l(t(P),{class:"ion-padding"},{default:n(()=>[l(t(N),{expand:"block",onClick:v},{default:n(()=>[...a[1]||(a[1]=[_(" เพิ่มรายการรายรับ–รายจ่าย ",-1)])]),_:1}),l(t(h),null,{default:n(()=>[l(t(E),null,{default:n(()=>[o("p",null,"รายรับรวม: "+u(p.value)+" บาท",1),o("p",null,"รายจ่ายรวม: "+u(i.value)+" บาท",1),o("p",null,[o("strong",null,"คงเหลือ: "+u(I.value)+" บาท",1)])]),_:1})]),_:1}),l(t(L),null,{default:n(()=>[(c(!0),V(F,null,w(r.value,s=>(c(),m(t($),{key:s.id,onClick:M=>b(s.id),button:""},{default:n(()=>[l(t(j),null,{default:n(()=>[o("h2",null,u(s.title),1),o("p",null,u(s.amount)+" บาท | "+u(s.type==="income"?"รายรับ":"รายจ่าย"),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1}))}});export{G as default};
